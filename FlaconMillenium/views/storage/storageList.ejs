<!DOCTYPE html>
<html>
  <head>
    <title>Storage</title>
    <link href="/css/flaconMilleniumDefault.css" rel="stylesheet" type="text/css">
    <link href="/css/menu.css" rel="stylesheet" type="text/css">
    <link href="/css/popup.css" rel="stylesheet" type="text/css">
    <link href="/css/list.css" rel="stylesheet" type="text/css">

    <script defer  src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script defer  type="text/javascript" src="/js/defaultFonctions.js"></script>
    <script defer  type="text/javascript" src="/js/storageFonctions.js"></script>
  </head>

  <body>
    <%- include('../menu.ejs') %>
    <div id="content">
      <h1>Storage</h1>

      <!-- Message display area -->
      <div>
        <div id="editorStorageForm"></div>
        <table>
          <tr>
            <td>location</td>
            <td>name</td>
            <td>nbLigne</td>
            <td>nbColone</td>
            <td>nbPlace</td>
            <td>description</td>
          </tr>
          <% for(var i=0; i < data.length; i++) { %>
            <tr>
              <td><%= data[i].location %></td>
              <td><%= data[i].name %></td>
              <td><%= data[i].nbLigne %></td>
              <td><%= data[i].nbColone %></td>
              <td><%= data[i].nbPlace %></td>
              <td><%= data[i].description %></td>
              <td><a href="/storage/unit?id=<%= data[i].id %>">Detail</a></td> 
              <td><button type="button" class="open-button" onclick="createStorageForm('patchStorageById', '/storage/unit', '<%= data[i].id %>', '<%= data[i].location %>', '<%= data[i].name %>', '<%= data[i].nbLigne %>', '<%= data[i].nbColone %>', '<%= data[i].nbPlace %>', '<%= data[i].description %>')">Edit</button></td> 
              <td><button type="button" onclick="deleteById('/storage/unit','<%= data[i].id %>')">Delete</button></td> 
            </tr>
          <% } %>
        </table>
        <button type="button" class="open-button" onclick="createStorageForm('postStorageById', '/storage/unit')">Add a storage</button>
      </div>
    </div> 
  </body>
</html>
